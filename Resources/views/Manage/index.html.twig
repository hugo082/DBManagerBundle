{% extends '::base.html.twig' %}

{% block body %}

    {% if app.request.hasPreviousSession %}
        {% for type, messages in app.session.flashbag.all() %}
            {% for message in messages %}
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="alert alert-{{ type }}">
                        <strong>{{ type }}</strong> {{ message }}
                    </div>
                </div>
            {% endfor %}
        {% endfor %}
    {% endif %}

    <h1>Manage your database</h1>

    <h3>Listing :</h3>
    <table>
        <tr>
            <th>Name</th>
            <th colspan=3>Permissions</th>
        </tr>
        {% for key, e in entities %}
            <tr>
                <td><a href="{{ path('db.manager.list', {'name':key})}}">{{ key }}</a></td>
                <td>{{ e.permission.add ? 'Add' : '-' }}</td>
                <td>{{ e.permission.edit ? 'Edit' : '-' }}</td>
                <td>{{ e.permission.remove ? 'Remove' : '-' }}</td>
            </tr>
        {% endfor %}
    </table>

{% endblock %}
