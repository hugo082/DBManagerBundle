{% extends '::base.html.twig' %}
{% trans_default_domain 'DBManagerBundle' %}

{% block body %}

    {% if app.request.hasPreviousSession %}
        {% for type, messages in app.session.flashbag.all() %}
            {% for message in messages %}
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="alert alert-{{ type }}">
                        <strong>{{ type }}</strong> {{ message }}
                    </div>
                </div>
            {% endfor %}
        {% endfor %}
    {% endif %}

    <h1>{{ 'title'|trans }}</h1>

    <h3>{{ 'entity.listing'|trans }} :</h3>
    <table>
        <tr>
            <th>{{ 'entity.name'|trans }}</th>
            <th colspan=3>{{ 'entity.permissions'|trans }}</th>
        </tr>
        {% for key, e in entities %}
            <tr>
                <td><a href="{{ path('db.manager.list', {'name':key})}}">{{ key }}</a></td>
                <td>{{ e.permission.add ? 'entity.action.add'|trans : '-' }}</td>
                <td>{{ e.permission.edit ? 'entity.action.edit'|trans : '-' }}</td>
                <td>{{ e.permission.remove ? 'entity.action.remove'|trans : '-' }}</td>
            </tr>
        {% endfor %}
    </table>

{% endblock %}
